@model BookingModel
@{
	ViewBag.Title = "ha";
}

<!DOCTYPE html>
<html>
<head>
    <link href="~/css/booking/crtBook.css" rel="stylesheet" />
</head>
<body>
	<div class="DAT inline">
		<div>SELECT DATE AND TIME</div>
	</div>

	<div class="PST inline">
		<div>Philippine Standard Time (GMT + 8)</div>
	</div>

	<hr />

	<section class="ftco-section">
		<div class="container">
			<div class="row justify-content-center">
			</div>
			<div class="row">
				<div class="col-md-12">
					<div id="calendar" class="calendar">
						<div class="header">
							<a data-action="prev-month" href="javascript:void(0)" title="Previous Month"><i></i></a>
							<div class="text" data-render="month-year"></div>
							<a data-action="next-month" href="javascript:void(0)" title="Next Month"><i></i></a>
						</div>
						<div class="months" data-flow="left">
							<div class="month month-a">
								<div class="render render-a"></div>
							</div>
							<div class="month month-b">
								<div class="render render-b"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<section style="position: relative; margin-top: 100px;">
		<div id="slctDate" style="position: absolute; top: 50%; left: 53%; transform: translate(-50%, -100%); font-family: 'Palatino Linotype'; font-weight:bold; font-size:30px;"></div>
	</section>

	<section class="time-container">
		<section class="time" style="display: inline-block;">
			<div class="btn-row">
				<div class="btnT" data-original-color="white">09:30 am</div>
				<div class="btnT" data-original-color="white">10:00 am</div>
			</div>
			<div class="btn-row">
				<div class="btnT" data-original-color="white">10:30 am</div>
				<div class="btnT" data-original-color="white">11:00 am</div>
			</div>
			<div class="btn-row">
				<div class="btnT" data-original-color="white">01:30 pm</div>
				<div class="btnT" data-original-color="white">02:00 pm</div>
			</div>
			<div class="btn-row">
				<div class="btnT" data-original-color="white">02:30 pm</div>
				<div class="btnT" data-original-color="white">03:00 pm</div>
			</div>
			<div class="btn-row">
				<div class="btnT" data-original-color="white">03:30 pm</div>
				<div class="btnT" data-original-color="white">04:00 pm</div>
			</div>
		</section>
	</section>

	<section id="Srvc">
		<div id="SrvcDtl">Service Details</div>
		<div>PLACEHOLDER USER</div>
		<div id="slctDate2"></div>
		<div id="slctTime"></div>
		<div>20 mins</div>
		<div>199</div>
		<hr />
		<button class="btnB" data-original-color="Black" onclick="showPaymentPopup()">BOOK</button>
	</section>

	<div id="paymentModal" class="modal">
		<div class="modal-payment">
			<span class="close" onclick="hidePaymentPopup()">&times;</span>
			<h2>Payment Confirmation</h2>
			<p class="price">Amount: $199</p>
			<div id="qrCode" class="qrcode"></div>
			
			<label for="proofOfPayment">Upload Proof of Payment:</label>
			<input type="file" id="proofOfPayment" name="proofOfPayment" accept="image/*">
			<button id="confirmPaymentButton" onclick="processPayment()" disabled>Confirm Payment</button>
		</div>
	</div>

	<link href="~/Content/themes/base/jquery-ui.min.css" rel="stylesheet" />
	@section scripts {
		<script src="~/Scripts/jquery-ui-1.12.1.min.js"></script>
		<script src="~/bootstraps.min.js"></script>
		<script src="~/js/jquery.min.js"></script>
		<script src="~/js/popper.js"></script>
		<script src="~/js/main.js"></script>
	}

	<script>
		function showPaymentPopup() {
			document.getElementById("paymentModal").style.display = "block";
		}
		function hidePaymentPopup() {
			document.getElementById("paymentModal").style.display = "none";
		}
		function handleFileChange() {
			var fileInput = document.getElementById("proofOfPayment");
			var confirmButton = document.getElementById("confirmPaymentButton");
			confirmButton.disabled = fileInput.files.length === 0;
		}
		function processPayment() {
			var fileInput = document.getElementById("proofOfPayment");
			if (fileInput.files.length > 0) {
				var selectedFile = fileInput.files[0];
				alert("Payment processed successfully! Proof of Payment: " + selectedFile.name);
			} else {
				alert("Payment processed successfully!");
			}

			hidePaymentPopup();
		}

		document.getElementById("proofOfPayment").addEventListener("change", handleFileChange);
		$(document).ready(function () {
			var $prevButton = null;

			$(".btnT").on("mousedown", function () {
				if ($prevButton && $prevButton[0] !== this) {
					$prevButton.addClass("released").removeClass("pressed");
					$prevButton.css("background-color", $prevButton.data("original-color"));
				}
				$prevButton = $(this);
				$(this).addClass("pressed").removeClass("released");
				$(this).css("background-color", "grey");
			});

			$(".btnT").on("mouseup mouseleave", function () {
			});

			$(".btnT").on("click", function () {
				$prevButton = $(this);
			});

			$(document).on("click", ".table .row .cell span", ".calendar .header .text span", function () {
				var selectedDate = $(this).text();
				$("#slctDay").text(selectedDate);
				console.log('Selected date:', selectedDate);
				var selectedMonth = $(".calendar .header .text span").text();
				$("#slctDate").text(selectedDate + ' ' + selectedMonth);
				console.log('Selected month:', selectedMonth);
				$("#slctDate2").text(selectedDate + ' ' + selectedMonth);
				console.log('Selected month:', selectedMonth);
			});



			$(".time .btnT").on("click", function () {
				var selectedTime = $(this).text();
				$("#slctTime").text('Selected Time: ' + selectedTime);
				console.log('Selected time:', selectedTime);
			});
		});
	</script>

</body>
</html>